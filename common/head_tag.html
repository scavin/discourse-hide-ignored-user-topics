<script type="text/discourse-plugin" version="1.6.0">

api.decorateWidget('topic-list', (helper) => {
    const ignoredUsers = api.getCurrentUser()?.ignored_users || [];

    // 在主题列表的每一项渲染后执行
    helper.parentView.on('didInsertElement', function() {
        const ignoredUserSet = new Set(ignoredUsers);
        
        // 隐藏忽略用户的主题项
        this.$('.topic-list-item').each((index, element) => {
            const creatorName = $(element).data('creator-name');
            if (ignoredUserSet.has(creatorName)) {
                $(element).hide(); // 隐藏DOM元素
            }
        });
    });
});

</script>
